{"ast":null,"code":"var _jsxFileName = \"C:\\\\Koodit\\\\Ohjelmistotuotanto2\\\\Frontend\\\\src\\\\Navisivut\\\\hero.js\",\n    _s = $RefreshSig$();\n\nimport react from 'react';\nimport { fire, projectStorage, projectFirestore, timestamp } from \"../Firebase/config\";\nimport React, { useState, useEffect } from 'react';\nimport UploadForm from '../comps/UploadForm';\nimport firebase from 'firebase';\nimport '../App.css';\nimport EventCalendar from './EventCalendar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Hero = ({\n  handleLogout\n}) => {\n  _s();\n\n  const [varaukset, setVaraukset] = useState([]);\n  const [mokkiteksti, setMokkiteksti] = useState([null]);\n  const [mokkiteksti_uusi, setMokkiteksti_uusi] = useState(null);\n\n  const fetchMokkiteksti = async () => {\n    const response = projectFirestore.collection('Mokkiteksti');\n    const data = await response.get();\n    data.docs.forEach(item => {\n      setMokkiteksti([...mokkiteksti, item.data()]);\n    });\n  };\n\n  useEffect(() => {\n    fetchMokkiteksti();\n  }, []);\n\n  function getMokkiteksti_uusi(val) {\n    setMokkiteksti_uusi(val.target.value);\n    console.warn(val.target.value);\n  }\n\n  function Lisays_mokkiteksti() {\n    //String id = projectFirestore.collection(\"collection_name\").document().getId();\n    projectFirestore.collection(\"Mokkiteksti\").doc(\"RYY1oBpq5JTlp2xT6TbZ\").update({\n      teksti: mokkiteksti_uusi\n    }).then(() => {\n      console.log(\"Document successfully written!\");\n    }).catch(error => {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n\n  const ref = projectFirestore.collection(\"Varaukset\");\n  /* function getVaraukset(){\r\n       ref.onSnapshot((querySnapshot) => {\r\n           const items = [];\r\n           querySnapshot.forEach((doc) =>{\r\n               items.push(doc.data());\r\n  \n           })\r\n           setVaraukset(items);\r\n       })\r\n   }\r\n  */\n\n  function getVaraukset() {\n    $.get({\n      url: `http://localhost:5000/Varaukset`,\n      success: result => {\n        setVaraukset(result);\n      }\n    });\n  }\n\n  useEffect(() => {\n    getVaraukset();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"hero\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Varaukset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), varaukset.map(varaus => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [varaus.nimi, \" / \", varaus.puhelin, \" / \", varaus.ajanjakso]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, varaus.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \" Tervetuloa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mokin_teksti\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mokkiteksti-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"grid-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"teksti\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"grid-item.nimi\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                id: \"Mokki\",\n                onChange: getMokkiteksti_uusi\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: mokkiteksti_uusi\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: Lisays_mokkiteksti,\n              children: \"P\\xE4ivit\\xE4 teksti\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 16\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Lis\\xE4\\xE4 kuvia m\\xF6kist\\xE4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(UploadForm, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(EventCalendar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"kirjaudu ulos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Hero, \"2+Uz+o6L4ukjayUSbqmMaCHIsXU=\");\n\n_c = Hero;\nexport default Hero;\n\nvar _c;\n\n$RefreshReg$(_c, \"Hero\");","map":{"version":3,"sources":["C:/Koodit/Ohjelmistotuotanto2/Frontend/src/Navisivut/hero.js"],"names":["react","fire","projectStorage","projectFirestore","timestamp","React","useState","useEffect","UploadForm","firebase","EventCalendar","Hero","handleLogout","varaukset","setVaraukset","mokkiteksti","setMokkiteksti","mokkiteksti_uusi","setMokkiteksti_uusi","fetchMokkiteksti","response","collection","data","get","docs","forEach","item","getMokkiteksti_uusi","val","target","value","console","warn","Lisays_mokkiteksti","doc","update","teksti","then","log","catch","error","ref","getVaraukset","$","url","success","result","map","varaus","nimi","puhelin","ajanjakso","id"],"mappings":"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","sourcesContent":["import react from 'react';\r\nimport { fire, projectStorage, projectFirestore, timestamp, } from \"../Firebase/config\";\r\nimport React,{useState,useEffect} from 'react';\r\nimport UploadForm from '../comps/UploadForm';\r\nimport firebase from 'firebase'\r\nimport '../App.css';\r\nimport EventCalendar from './EventCalendar';\r\n\r\n\r\nconst Hero = ({ handleLogout }) => {\r\n\r\n    const[varaukset, setVaraukset] = useState([]);\r\n\r\n    const[mokkiteksti, setMokkiteksti]=useState([null]);\r\n\r\n    const [mokkiteksti_uusi, setMokkiteksti_uusi] = useState(null)\r\n\r\n\r\n    const fetchMokkiteksti = async () => {\r\n        const response = projectFirestore.collection('Mokkiteksti');\r\n        const data = await response.get();\r\n        data.docs.forEach(item => {\r\n          setMokkiteksti([...mokkiteksti, item.data()])\r\n        })\r\n      }\r\n\r\n      useEffect(() => {\r\n        fetchMokkiteksti();\r\n      }, [])\r\n\r\n      function getMokkiteksti_uusi(val) {\r\n        setMokkiteksti_uusi(val.target.value)\r\n        console.warn(val.target.value)\r\n      }\r\n\r\n      function Lisays_mokkiteksti() {\r\n        //String id = projectFirestore.collection(\"collection_name\").document().getId();\r\n        projectFirestore.collection(\"Mokkiteksti\").doc(\"RYY1oBpq5JTlp2xT6TbZ\").update({\r\n          teksti: mokkiteksti_uusi,\r\n        })\r\n          .then(() => {\r\n            console.log(\"Document successfully written!\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error writing document: \", error);\r\n          });\r\n    \r\n      }\r\n\r\n\r\n    const ref = projectFirestore.collection(\"Varaukset\");\r\n    \r\n   /* function getVaraukset(){\r\n        ref.onSnapshot((querySnapshot) => {\r\n            const items = [];\r\n            querySnapshot.forEach((doc) =>{\r\n                items.push(doc.data());\r\n\r\n\r\n            })\r\n            setVaraukset(items);\r\n        })\r\n    }\r\n*/\r\n\r\nfunction getVaraukset(){\r\n  $.get({\r\n    url: `http://localhost:5000/Varaukset`,\r\n    success: (result) => {\r\n        setVaraukset(result)\r\n}});\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        getVaraukset();\r\n    }, []); \r\n\r\n    return (\r\n        <section className=\"hero\">\r\n\r\n            <div>\r\n            <h1>Varaukset</h1>\r\n            {varaukset.map((varaus) => (\r\n                <div key={varaus.id}>\r\n                    <li>{varaus.nimi} / {varaus.puhelin} / {varaus.ajanjakso}</li>\r\n                </div>\r\n            ))}\r\n            </div>\r\n            \r\n            <h2> Tervetuloa</h2>\r\n            <div>\r\n            <div className=\"mokin_teksti\">\r\n      {\r\n          \r\n            <div className=\"mokkiteksti-container\">\r\n              <div class=\"grid-item\">\r\n                <label>teksti</label>\r\n                <div class = \"grid-item.nimi\">  \r\n                <input type=\"text\" id=\"Mokki\" onChange={getMokkiteksti_uusi} />\r\n                <p>{mokkiteksti_uusi}</p>\r\n                </div>\r\n               <button onClick={Lisays_mokkiteksti}>Päivitä teksti</button>\r\n              </div>\r\n            </div>\r\n          \r\n        \r\n      }\r\n    </div>\r\n            </div>\r\n            <div>\r\n                <p>Lisää kuvia mökistä</p>\r\n                <UploadForm />\r\n                <br />\r\n            </div>\r\n            <div>\r\n                \r\n                <EventCalendar\r\n                \r\n                />\r\n            </div>\r\n\r\n\r\n            <button onClick={handleLogout}>\r\n                kirjaudu ulos\r\n                </button>\r\n\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Hero;"]},"metadata":{},"sourceType":"module"}
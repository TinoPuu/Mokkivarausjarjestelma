{"ast":null,"code":"var _jsxFileName = \"C:\\\\Koodit\\\\testi\\\\varausjarjestelma\\\\src\\\\Navisivut\\\\Varaus.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState, useEffect } from 'react';\nimport { fire, projectStorage, projectFirestore, timestamp } from \"../Firebase/config\";\nimport varaus from '../Navisivut/varaus.css';\nimport '../App.css';\nimport EventCalendar from './EventCalendar';\n/*class Varaus extends Component{\r\n\r\n    state={\r\n      text : \"\"\r\n    }\r\n  \r\n    handleText1=e=>{\r\n      this.setState({\r\n         text1 : e.target.value\r\n      })\r\n      this.handleTextCompleteEdition();\r\n    }\r\n    handleText2=e=>{\r\n      this.setState({\r\n         text2 : e.target.value\r\n      })\r\n      this.handleTextCompleteEdition();\r\n    }\r\n    handleText3=e=>{\r\n      this.setState({\r\n         text3 : e.target.value\r\n      })\r\n      this.handleTextCompleteEdition();\r\n    }\r\n    handleTextCompleteEdition=e=>{\r\n      this.setState({\r\n         textComplete : (this.state.text1 + \",\" + this.state.text2 + \",\" + this.state.text3)\r\n      })\r\n    }\r\n    \r\n  \r\n    handleSubmit=e=>{\r\n      //this.handleTextCompleteEdition();\r\n      let messageRef = fire.database().ref('messages').orderByKey().limitToLast(100);\r\n      fire.database().ref('messages').push(this.state.textComplete);\r\n      this.setState({\r\n        text : \"\"\r\n      })\r\n    }\r\n    \r\n  \r\n  \r\n  \r\n    render(){\r\n      return (\r\n        <div className=\"App-header\">\r\n          <label>Tee varaus:</label>\r\n          <br/>\r\n          <label>Ajanjakso</label>\r\n          <br/>\r\n          <input type=\"text\" onChange={this.handleText1} id=\"inputText\"/>\r\n          <br/>\r\n          <label>Nimi</label>\r\n          <br/>\r\n          <input type=\"text\" onChange={this.handleText2} id=\"Nimi\"/>\r\n          <br/>\r\n          <label>Puhelinnumero</label>\r\n          <br/>\r\n          <input type=\"text\" onChange={this.handleText3} id=\"Puhelin\"/>\r\n          <br/>\r\n          <button onClick={this.handleSubmit}>Tee varaus</button>      \r\n        </div>\r\n      );\r\n    }\r\n  }*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Varaus() {\n  _s();\n\n  const [name, setName] = useState(null);\n  const [puh, setPuh] = useState(null);\n  const [addrs, setAddrs] = useState(null);\n  const [varaukset, setVaraukset] = useState([]);\n\n  const fetchVaraukset = async () => {\n    const response = projectFirestore.collection('Varaukset');\n    const data = await response.get();\n    data.docs.forEach(item => {\n      setVaraukset([...varaukset, item.data()]);\n    });\n  };\n\n  useEffect(() => {\n    fetchVaraukset();\n  }, []);\n\n  function getName(val) {\n    setName(val.target.value);\n    console.warn(val.target.value);\n  }\n\n  function getPuh(val) {\n    setPuh(val.target.value);\n    console.warn(val.target.value);\n  }\n\n  function getAddrs(val) {\n    setAddrs(val.target.value);\n    console.warn(val.target.value);\n  }\n\n  function Lisays() {\n    //String id = projectFirestore.collection(\"collection_name\").document().getId();\n    projectFirestore.collection(\"Varaukset\").doc().set({\n      nimi: name,\n      puhelin: puh,\n      ajanjakso: addrs\n    }).then(() => {\n      console.log(\"Document successfully written!\");\n    }).catch(error => {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: varaukset && varaukset.map(varaus => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"varaus-container\",\n        children: [/*#__PURE__*/_jsxDEV(EventCalendar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"grid-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Tee varaus:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nimi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"grid-item.nimi\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"Nimi\",\n              onChange: getName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Puhelinnumero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"grid-item.Puh\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"Puh\",\n              onChange: getPuh\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Ajanjakso\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"grid-item.Osoite\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"Aika\",\n              onChange: getAddrs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: Lisays,\n            children: \"Tee uusi varaus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Varaus, \"n0own68PryTYyFEg0UbbYu+IzeE=\");\n\n_c = Varaus;\nexport default Varaus;\n\nvar _c;\n\n$RefreshReg$(_c, \"Varaus\");","map":{"version":3,"sources":["C:/Koodit/testi/varausjarjestelma/src/Navisivut/Varaus.js"],"names":["React","Component","useState","useEffect","fire","projectStorage","projectFirestore","timestamp","varaus","EventCalendar","Varaus","name","setName","puh","setPuh","addrs","setAddrs","varaukset","setVaraukset","fetchVaraukset","response","collection","data","get","docs","forEach","item","getName","val","target","value","console","warn","getPuh","getAddrs","Lisays","doc","set","nimi","puhelin","ajanjakso","then","log","catch","error","map"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport { fire, projectStorage, projectFirestore, timestamp } from \"../Firebase/config\";\r\nimport varaus from '../Navisivut/varaus.css';\r\nimport '../App.css';\r\nimport EventCalendar from './EventCalendar';\r\n\r\n\r\n/*class Varaus extends Component{\r\n\r\n    state={\r\n      text : \"\"\r\n    }\r\n  \r\n    handleText1=e=>{\r\n      this.setState({\r\n         text1 : e.target.value\r\n      })\r\n      this.handleTextCompleteEdition();\r\n    }\r\n    handleText2=e=>{\r\n      this.setState({\r\n         text2 : e.target.value\r\n      })\r\n      this.handleTextCompleteEdition();\r\n    }\r\n    handleText3=e=>{\r\n      this.setState({\r\n         text3 : e.target.value\r\n      })\r\n      this.handleTextCompleteEdition();\r\n    }\r\n    handleTextCompleteEdition=e=>{\r\n      this.setState({\r\n         textComplete : (this.state.text1 + \",\" + this.state.text2 + \",\" + this.state.text3)\r\n      })\r\n    }\r\n    \r\n  \r\n    handleSubmit=e=>{\r\n      //this.handleTextCompleteEdition();\r\n      let messageRef = fire.database().ref('messages').orderByKey().limitToLast(100);\r\n      fire.database().ref('messages').push(this.state.textComplete);\r\n      this.setState({\r\n        text : \"\"\r\n      })\r\n    }\r\n    \r\n  \r\n  \r\n  \r\n    render(){\r\n      return (\r\n        <div className=\"App-header\">\r\n          <label>Tee varaus:</label>\r\n          <br/>\r\n          <label>Ajanjakso</label>\r\n          <br/>\r\n          <input type=\"text\" onChange={this.handleText1} id=\"inputText\"/>\r\n          <br/>\r\n          <label>Nimi</label>\r\n          <br/>\r\n          <input type=\"text\" onChange={this.handleText2} id=\"Nimi\"/>\r\n          <br/>\r\n          <label>Puhelinnumero</label>\r\n          <br/>\r\n          <input type=\"text\" onChange={this.handleText3} id=\"Puhelin\"/>\r\n          <br/>\r\n          <button onClick={this.handleSubmit}>Tee varaus</button>      \r\n        </div>\r\n      );\r\n    }\r\n  }*/\r\nfunction Varaus() {\r\n\r\n  const [name, setName] = useState(null)\r\n  const [puh, setPuh] = useState(null)\r\n  const [addrs, setAddrs] = useState(null)\r\n\r\n  const [varaukset, setVaraukset] = useState([])\r\n  const fetchVaraukset = async () => {\r\n    const response = projectFirestore.collection('Varaukset');\r\n    const data = await response.get();\r\n    data.docs.forEach(item => {\r\n      setVaraukset([...varaukset, item.data()])\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    fetchVaraukset();\r\n  }, [])\r\n\r\n  function getName(val) {\r\n    setName(val.target.value)\r\n    console.warn(val.target.value)\r\n  }\r\n  function getPuh(val) {\r\n    setPuh(val.target.value)\r\n    console.warn(val.target.value)\r\n  }\r\n  function getAddrs(val) {\r\n    setAddrs(val.target.value)\r\n    console.warn(val.target.value)\r\n  }\r\n\r\n\r\n  function Lisays() {\r\n    //String id = projectFirestore.collection(\"collection_name\").document().getId();\r\n    projectFirestore.collection(\"Varaukset\").doc().set({\r\n      nimi: name,\r\n      puhelin: puh,\r\n      ajanjakso: addrs\r\n    })\r\n      .then(() => {\r\n        console.log(\"Document successfully written!\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error writing document: \", error);\r\n      });\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {\r\n        varaukset && varaukset.map(varaus => {\r\n          return (\r\n            <div className=\"varaus-container\">\r\n              <EventCalendar/>\r\n              <div class=\"grid-item\">\r\n              <h5>Tee varaus:</h5> \r\n                  <label>Nimi</label>\r\n                <div class = \"grid-item.nimi\">  \r\n                <input type=\"text\" id=\"Nimi\" onChange={getName} />\r\n                </div>\r\n                  <label>Puhelinnumero</label>\r\n                  <div class = \"grid-item.Puh\">  \r\n                <input type=\"text\" id=\"Puh\" onChange={getPuh} />\r\n                  </div>\r\n                  <label>Ajanjakso</label>\r\n                  <div class = \"grid-item.Osoite\">  \r\n                <input type=\"text\" id=\"Aika\" onChange={getAddrs} />\r\n                  </div>\r\n                <button onClick={Lisays}>Tee uusi varaus</button>\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Varaus;"]},"metadata":{},"sourceType":"module"}